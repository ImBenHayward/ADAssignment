@using System.Security.Cryptography.X509Certificates
@model List<ToDoList>

<h1>Trello Cards</h1>
<br/>
@foreach (var item in (Model))
{
    if (item.ErrorMessage != null)
    {
        <div class="alert alert-warning" role="alert">
            @item.ErrorMessage
        </div>
    }
    if (item.SuccessMessage != null)
    {
        <div class="alert alert-success" role="alert">
            @item.SuccessMessage
        </div>
    }
}

<p>
    <a asp-action="Add" class="btn btn-primary">Add a Task</a>
</p>

<table class="table">
    <thead>
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.First().Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.First().Description)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.First().DueDate)
        </th>
        <th>
            Edit
        </th>
        <th>
            Delete
        </th>
    </tr>
    </thead>
    <tbody>
    @foreach (var item in Model)
    {
        <tr>
            <td>
                <a href="@item.Url">@Html.DisplayFor(modelItem => item.Name)</a>
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Description)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DueDate)
            </td>
            <td>
                <a asp-action="Edit" asp-route-id="@item.Id" class="btn btn-primary">Edit</a>
            </td>
            <td>
                <a asp-action="Delete" asp-route-id="@item.Id" class="btn btn-danger">Delete</a>
            </td>
        </tr>
    }
    </tbody>
</table>